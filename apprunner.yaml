version: 1.0
runtime: docker
build:
  commands:
    build:
      - echo "Building OneClick Master API with Docker"
run:
  runtime-version: latest
  command: uvicorn app:app --host 0.0.0.0 --port 8000
  network:
    port: 8000
    env_variables:
      PYTHONUNBUFFERED: 1
  env:
    - name: FRONTEND_URL
      value: https://one-clickmaster.com
    - name: CORS_ORIGINS
      value: https://one-clickmaster.com
    - name: AWS_REGION
      value: us-east-1
    - name: S3_BUCKET_UPLOADS
      value: one-clickmaster.com-uploads
    - name: S3_BUCKET_OUTPUTS
      value: one-clickmaster.com-outputs
